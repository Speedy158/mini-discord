{"ast":null,"code":"import { socket } from \"./socket\";\n\n// Standard-Avatar generieren\nexport function generateDefaultAvatar(username) {\n  const colors = [\"#ff8800\", \"#5865F2\", \"#57F287\", \"#FEE75C\", \"#EB459E\", \"#ED4245\"];\n  const color = colors[username.charCodeAt(0) % colors.length];\n  const letter = username[0].toUpperCase();\n  return {\n    avatarType: \"default\",\n    avatarColor: color,\n    avatarLetter: letter,\n    avatarImage: null\n  };\n}\n\n// Avatar vom Server holen\nexport function getAvatarFromServer(users, username) {\n  if (!users || !users[username]) {\n    return generateDefaultAvatar(username);\n  }\n  return users[username];\n}\n\n// PNG + JPEG Upload\nexport function uploadAvatar(callback) {\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \"image/png, image/jpeg\";\n  input.onchange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      callback(reader.result);\n    };\n    reader.readAsDataURL(file);\n  };\n  input.click();\n}\n\n// Avatar an Server senden\nexport function updateAvatarOnServer(username, avatarData) {\n  socket.emit(\"updateAvatar\", {\n    username,\n    ...avatarData\n  });\n}","map":{"version":3,"names":["socket","generateDefaultAvatar","username","colors","color","charCodeAt","length","letter","toUpperCase","avatarType","avatarColor","avatarLetter","avatarImage","getAvatarFromServer","users","uploadAvatar","callback","input","document","createElement","type","accept","onchange","e","file","target","files","reader","FileReader","onload","result","readAsDataURL","click","updateAvatarOnServer","avatarData","emit"],"sources":["C:/Users/ericb/mini-discord/frontend/src/avatar.js"],"sourcesContent":["import { socket } from \"./socket\";\r\n\r\n// Standard-Avatar generieren\r\nexport function generateDefaultAvatar(username) {\r\n  const colors = [\"#ff8800\", \"#5865F2\", \"#57F287\", \"#FEE75C\", \"#EB459E\", \"#ED4245\"];\r\n  const color = colors[username.charCodeAt(0) % colors.length];\r\n  const letter = username[0].toUpperCase();\r\n\r\n  return {\r\n    avatarType: \"default\",\r\n    avatarColor: color,\r\n    avatarLetter: letter,\r\n    avatarImage: null\r\n  };\r\n}\r\n\r\n// Avatar vom Server holen\r\nexport function getAvatarFromServer(users, username) {\r\n  if (!users || !users[username]) {\r\n    return generateDefaultAvatar(username);\r\n  }\r\n  return users[username];\r\n}\r\n\r\n// PNG + JPEG Upload\r\nexport function uploadAvatar(callback) {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \"image/png, image/jpeg\";\r\n\r\n  input.onchange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      callback(reader.result);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  input.click();\r\n}\r\n\r\n// Avatar an Server senden\r\nexport function updateAvatarOnServer(username, avatarData) {\r\n  socket.emit(\"updateAvatar\", {\r\n    username,\r\n    ...avatarData\r\n  });\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;;AAEjC;AACA,OAAO,SAASC,qBAAqBA,CAACC,QAAQ,EAAE;EAC9C,MAAMC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;EACjF,MAAMC,KAAK,GAAGD,MAAM,CAACD,QAAQ,CAACG,UAAU,CAAC,CAAC,CAAC,GAAGF,MAAM,CAACG,MAAM,CAAC;EAC5D,MAAMC,MAAM,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAACM,WAAW,CAAC,CAAC;EAExC,OAAO;IACLC,UAAU,EAAE,SAAS;IACrBC,WAAW,EAAEN,KAAK;IAClBO,YAAY,EAAEJ,MAAM;IACpBK,WAAW,EAAE;EACf,CAAC;AACH;;AAEA;AACA,OAAO,SAASC,mBAAmBA,CAACC,KAAK,EAAEZ,QAAQ,EAAE;EACnD,IAAI,CAACY,KAAK,IAAI,CAACA,KAAK,CAACZ,QAAQ,CAAC,EAAE;IAC9B,OAAOD,qBAAqB,CAACC,QAAQ,CAAC;EACxC;EACA,OAAOY,KAAK,CAACZ,QAAQ,CAAC;AACxB;;AAEA;AACA,OAAO,SAASa,YAAYA,CAACC,QAAQ,EAAE;EACrC,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC7CF,KAAK,CAACG,IAAI,GAAG,MAAM;EACnBH,KAAK,CAACI,MAAM,GAAG,uBAAuB;EAEtCJ,KAAK,CAACK,QAAQ,GAAIC,CAAC,IAAK;IACtB,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACF,IAAI,EAAE;IAEX,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAG,MAAM;MACpBb,QAAQ,CAACW,MAAM,CAACG,MAAM,CAAC;IACzB,CAAC;IACDH,MAAM,CAACI,aAAa,CAACP,IAAI,CAAC;EAC5B,CAAC;EAEDP,KAAK,CAACe,KAAK,CAAC,CAAC;AACf;;AAEA;AACA,OAAO,SAASC,oBAAoBA,CAAC/B,QAAQ,EAAEgC,UAAU,EAAE;EACzDlC,MAAM,CAACmC,IAAI,CAAC,cAAc,EAAE;IAC1BjC,QAAQ;IACR,GAAGgC;EACL,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
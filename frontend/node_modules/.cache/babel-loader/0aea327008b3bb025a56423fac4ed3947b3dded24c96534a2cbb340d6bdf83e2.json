{"ast":null,"code":"import _objectSpread from\"C:/Users/ericb/mini-discord/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{socket}from\"./socket\";export function uploadAvatar(callback){const input=document.createElement(\"input\");input.type=\"file\";input.accept=\"image/*\";input.onchange=()=>{const file=input.files[0];if(!file)return;const reader=new FileReader();reader.onload=()=>callback(reader.result);reader.readAsDataURL(file);};input.click();}export function updateAvatarOnServer(username,avatarData){socket.emit(\"updateAvatar\",_objectSpread({username},avatarData));}export function getAvatarFromServer(users,username){var _username$;return users[username]||{avatarType:\"default\",avatarColor:\"#5865F2\",avatarLetter:((_username$=username[0])===null||_username$===void 0?void 0:_username$.toUpperCase())||\"?\",avatarImage:null};}","map":{"version":3,"names":["socket","uploadAvatar","callback","input","document","createElement","type","accept","onchange","file","files","reader","FileReader","onload","result","readAsDataURL","click","updateAvatarOnServer","username","avatarData","emit","_objectSpread","getAvatarFromServer","users","_username$","avatarType","avatarColor","avatarLetter","toUpperCase","avatarImage"],"sources":["C:/Users/ericb/mini-discord/frontend/src/avatar.js"],"sourcesContent":["import { socket } from \"./socket\";\r\n\r\nexport function uploadAvatar(callback) {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \"image/*\";\r\n\r\n  input.onchange = () => {\r\n    const file = input.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => callback(reader.result);\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  input.click();\r\n}\r\n\r\nexport function updateAvatarOnServer(username, avatarData) {\r\n  socket.emit(\"updateAvatar\", {\r\n    username,\r\n    ...avatarData\r\n  });\r\n}\r\n\r\nexport function getAvatarFromServer(users, username) {\r\n  return (\r\n    users[username] || {\r\n      avatarType: \"default\",\r\n      avatarColor: \"#5865F2\",\r\n      avatarLetter: username[0]?.toUpperCase() || \"?\",\r\n      avatarImage: null\r\n    }\r\n  );\r\n}\r\n"],"mappings":"yHAAA,OAASA,MAAM,KAAQ,UAAU,CAEjC,MAAO,SAAS,CAAAC,YAAYA,CAACC,QAAQ,CAAE,CACrC,KAAM,CAAAC,KAAK,CAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAC7CF,KAAK,CAACG,IAAI,CAAG,MAAM,CACnBH,KAAK,CAACI,MAAM,CAAG,SAAS,CAExBJ,KAAK,CAACK,QAAQ,CAAG,IAAM,CACrB,KAAM,CAAAC,IAAI,CAAGN,KAAK,CAACO,KAAK,CAAC,CAAC,CAAC,CAC3B,GAAI,CAACD,IAAI,CAAE,OAEX,KAAM,CAAAE,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAG,IAAMX,QAAQ,CAACS,MAAM,CAACG,MAAM,CAAC,CAC7CH,MAAM,CAACI,aAAa,CAACN,IAAI,CAAC,CAC5B,CAAC,CAEDN,KAAK,CAACa,KAAK,CAAC,CAAC,CACf,CAEA,MAAO,SAAS,CAAAC,oBAAoBA,CAACC,QAAQ,CAAEC,UAAU,CAAE,CACzDnB,MAAM,CAACoB,IAAI,CAAC,cAAc,CAAAC,aAAA,EACxBH,QAAQ,EACLC,UAAU,CACd,CAAC,CACJ,CAEA,MAAO,SAAS,CAAAG,mBAAmBA,CAACC,KAAK,CAAEL,QAAQ,CAAE,KAAAM,UAAA,CACnD,MACE,CAAAD,KAAK,CAACL,QAAQ,CAAC,EAAI,CACjBO,UAAU,CAAE,SAAS,CACrBC,WAAW,CAAE,SAAS,CACtBC,YAAY,CAAE,EAAAH,UAAA,CAAAN,QAAQ,CAAC,CAAC,CAAC,UAAAM,UAAA,iBAAXA,UAAA,CAAaI,WAAW,CAAC,CAAC,GAAI,GAAG,CAC/CC,WAAW,CAAE,IACf,CAAC,CAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ericb\\\\mini-discord-client\\\\src\\\\components\\\\VoicePanel.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction VoicePanel() {\n  _s();\n  const [inVoice, setInVoice] = useState(false);\n  const [stream, setStream] = useState(null);\n  const joinVoice = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      setStream(mediaStream);\n      const audio = new Audio();\n      audio.srcObject = mediaStream;\n      audio.play();\n      setInVoice(true);\n    } catch (err) {\n      console.error(\"Konnte Mikrofon nicht öffnen:\", err);\n      alert(\"Mikrofonzugriff verweigert oder nicht verfügbar.\");\n    }\n  };\n  const leaveVoice = () => {\n    if (stream) {\n      stream.getTracks().forEach(t => t.stop());\n      setStream(null);\n    }\n    setInVoice(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 220,\n      background: \"#111\",\n      color: \"#fff\",\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Voice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), !inVoice ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: joinVoice,\n      children: \"Voice beitreten\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: leaveVoice,\n      children: \"Voice verlassen\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10,\n        fontSize: 12,\n        color: \"#aaa\"\n      },\n      children: inVoice ? \"Mikrofon ist aktiv (lokaler Test).\" : \"Klicke auf „Voice beitreten“, um dein Mikro zu testen.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(VoicePanel, \"J6RgPvv6xBygf/ucscIoE4iu4BI=\");\n_c = VoicePanel;\nexport default VoicePanel;\nvar _c;\n$RefreshReg$(_c, \"VoicePanel\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","VoicePanel","_s","inVoice","setInVoice","stream","setStream","joinVoice","mediaStream","navigator","mediaDevices","getUserMedia","audio","Audio","srcObject","play","err","console","error","alert","leaveVoice","getTracks","forEach","t","stop","style","width","background","color","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginTop","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/ericb/mini-discord-client/src/components/VoicePanel.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction VoicePanel() {\r\n  const [inVoice, setInVoice] = useState(false);\r\n  const [stream, setStream] = useState(null);\r\n\r\n  const joinVoice = async () => {\r\n    try {\r\n      const mediaStream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      setStream(mediaStream);\r\n\r\n      const audio = new Audio();\r\n      audio.srcObject = mediaStream;\r\n      audio.play();\r\n\r\n      setInVoice(true);\r\n    } catch (err) {\r\n      console.error(\"Konnte Mikrofon nicht öffnen:\", err);\r\n      alert(\"Mikrofonzugriff verweigert oder nicht verfügbar.\");\r\n    }\r\n  };\r\n\r\n  const leaveVoice = () => {\r\n    if (stream) {\r\n      stream.getTracks().forEach((t) => t.stop());\r\n      setStream(null);\r\n    }\r\n    setInVoice(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: 220, background: \"#111\", color: \"#fff\", padding: 20 }}>\r\n      <h3>Voice</h3>\r\n      {!inVoice ? (\r\n        <button onClick={joinVoice}>Voice beitreten</button>\r\n      ) : (\r\n        <button onClick={leaveVoice}>Voice verlassen</button>\r\n      )}\r\n      <div style={{ marginTop: 10, fontSize: 12, color: \"#aaa\" }}>\r\n        {inVoice\r\n          ? \"Mikrofon ist aktiv (lokaler Test).\"\r\n          : \"Klicke auf „Voice beitreten“, um dein Mikro zu testen.\"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VoicePanel;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACpB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMS,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,WAAW,GAAG,MAAMC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MAC9EN,SAAS,CAACE,WAAW,CAAC;MAEtB,MAAMI,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;MACzBD,KAAK,CAACE,SAAS,GAAGN,WAAW;MAC7BI,KAAK,CAACG,IAAI,CAAC,CAAC;MAEZX,UAAU,CAAC,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEF,GAAG,CAAC;MACnDG,KAAK,CAAC,kDAAkD,CAAC;IAC3D;EACF,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIf,MAAM,EAAE;MACVA,MAAM,CAACgB,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,CAAC,IAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;MAC3ClB,SAAS,CAAC,IAAI,CAAC;IACjB;IACAF,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,oBACEJ,OAAA;IAAKyB,KAAK,EAAE;MAAEC,KAAK,EAAE,GAAG;MAAEC,UAAU,EAAE,MAAM;MAAEC,KAAK,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBACzE9B,OAAA;MAAA8B,QAAA,EAAI;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACb,CAAC/B,OAAO,gBACPH,OAAA;MAAQmC,OAAO,EAAE5B,SAAU;MAAAuB,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,gBAEpDlC,OAAA;MAAQmC,OAAO,EAAEf,UAAW;MAAAU,QAAA,EAAC;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACrD,eACDlC,OAAA;MAAKyB,KAAK,EAAE;QAAEW,SAAS,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAET,KAAK,EAAE;MAAO,CAAE;MAAAE,QAAA,EACxD3B,OAAO,GACJ,oCAAoC,GACpC;IAAwD;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAChC,EAAA,CA3CQD,UAAU;AAAAqC,EAAA,GAAVrC,UAAU;AA6CnB,eAAeA,UAAU;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
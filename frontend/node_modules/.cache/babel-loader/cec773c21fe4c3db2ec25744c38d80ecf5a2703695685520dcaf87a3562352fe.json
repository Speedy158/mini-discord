{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{socket}from\"../socket\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChannelList(_ref){let{selectedChannel,onSelect}=_ref;const[textChannels,setTextChannels]=useState([]);const[voiceChannels,setVoiceChannels]=useState({});const[contextMenu,setContextMenu]=useState(null);useEffect(()=>{const update=_ref2=>{let{textChannels,voiceChannels}=_ref2;setTextChannels(textChannels);setVoiceChannels(voiceChannels);};socket.on(\"channelListUpdate\",update);socket.emit(\"requestChannelList\");return()=>socket.off(\"channelListUpdate\",update);},[]);const createChannel=()=>{const name=prompt(\"Neuer Channelname:\");if(!name)return;socket.emit(\"createChannel\",{name});};const renameChannel=oldName=>{const newName=prompt(\"Neuer Name fÃ¼r #\"+oldName);if(!newName)return;socket.emit(\"renameChannel\",{oldName,newName});};const deleteChannel=name=>{if(!window.confirm(\"Channel #\".concat(name,\" l\\xF6schen?\")))return;socket.emit(\"deleteChannel\",{name});};const joinVoice=ch=>{const username=localStorage.getItem(\"username\");socket.emit(\"joinVoiceChannel\",{channel:ch,username});};const openContextMenu=(e,channel)=>{e.preventDefault();setContextMenu({x:e.clientX,y:e.clientY,channel});};const closeContextMenu=()=>setContextMenu(null);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:10,color:\"white\",position:\"relative\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.6,marginBottom:10},children:\"TEXT CHANNELS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createChannel,style:{width:\"100%\",padding:6,background:\"#5865F2\",border:\"none\",borderRadius:4,color:\"white\",cursor:\"pointer\",marginBottom:10},children:\"+ Channel hinzuf\\xFCgen\"}),textChannels.map(ch=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onSelect(ch),onContextMenu:e=>openContextMenu(e,ch),style:{padding:\"6px 10px\",cursor:\"pointer\",background:selectedChannel===ch?\"#3a3b3f\":\"transparent\",borderRadius:4,marginBottom:4},children:[\"# \",ch]},ch)),/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.6,margin:\"20px 0 10px\"},children:\"VOICE CHANNELS\"}),Object.keys(voiceChannels).map(ch=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>joinVoice(ch),style:{padding:\"6px 10px\",cursor:\"pointer\",borderRadius:4,marginBottom:4},children:[\"\\uD83D\\uDD0A \",ch]},ch)),contextMenu&&/*#__PURE__*/_jsxs(\"div\",{style:{position:\"fixed\",top:contextMenu.y,left:contextMenu.x,background:\"#2b2d31\",padding:10,borderRadius:4,zIndex:999,boxShadow:\"0 0 10px rgba(0,0,0,0.5)\"},onMouseLeave:closeContextMenu,children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:5,cursor:\"pointer\"},onClick:()=>{renameChannel(contextMenu.channel);closeContextMenu();},children:\"Umbenennen\"}),/*#__PURE__*/_jsx(\"div\",{style:{padding:5,cursor:\"pointer\",color:\"red\"},onClick:()=>{deleteChannel(contextMenu.channel);closeContextMenu();},children:\"L\\xF6schen\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","socket","jsx","_jsx","jsxs","_jsxs","ChannelList","_ref","selectedChannel","onSelect","textChannels","setTextChannels","voiceChannels","setVoiceChannels","contextMenu","setContextMenu","update","_ref2","on","emit","off","createChannel","name","prompt","renameChannel","oldName","newName","deleteChannel","window","confirm","concat","joinVoice","ch","username","localStorage","getItem","channel","openContextMenu","e","preventDefault","x","clientX","y","clientY","closeContextMenu","style","padding","color","position","children","opacity","marginBottom","onClick","width","background","border","borderRadius","cursor","map","onContextMenu","margin","Object","keys","top","left","zIndex","boxShadow","onMouseLeave"],"sources":["C:/Users/ericb/mini-discord/frontend/src/components/ChannelList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { socket } from \"../socket\";\r\n\r\nexport default function ChannelList({ selectedChannel, onSelect }) {\r\n  const [textChannels, setTextChannels] = useState([]);\r\n  const [voiceChannels, setVoiceChannels] = useState({});\r\n  const [contextMenu, setContextMenu] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const update = ({ textChannels, voiceChannels }) => {\r\n      setTextChannels(textChannels);\r\n      setVoiceChannels(voiceChannels);\r\n    };\r\n\r\n    socket.on(\"channelListUpdate\", update);\r\n    socket.emit(\"requestChannelList\");\r\n\r\n    return () => socket.off(\"channelListUpdate\", update);\r\n  }, []);\r\n\r\n  const createChannel = () => {\r\n    const name = prompt(\"Neuer Channelname:\");\r\n    if (!name) return;\r\n    socket.emit(\"createChannel\", { name });\r\n  };\r\n\r\n  const renameChannel = (oldName) => {\r\n    const newName = prompt(\"Neuer Name fÃ¼r #\" + oldName);\r\n    if (!newName) return;\r\n    socket.emit(\"renameChannel\", { oldName, newName });\r\n  };\r\n\r\n  const deleteChannel = (name) => {\r\n    if (!window.confirm(`Channel #${name} lÃ¶schen?`)) return;\r\n    socket.emit(\"deleteChannel\", { name });\r\n  };\r\n\r\n  const joinVoice = (ch) => {\r\n    const username = localStorage.getItem(\"username\");\r\n    socket.emit(\"joinVoiceChannel\", { channel: ch, username });\r\n  };\r\n\r\n  const openContextMenu = (e, channel) => {\r\n    e.preventDefault();\r\n    setContextMenu({\r\n      x: e.clientX,\r\n      y: e.clientY,\r\n      channel\r\n    });\r\n  };\r\n\r\n  const closeContextMenu = () => setContextMenu(null);\r\n\r\n  return (\r\n    <div style={{ padding: 10, color: \"white\", position: \"relative\" }}>\r\n      <div style={{ opacity: 0.6, marginBottom: 10 }}>TEXT CHANNELS</div>\r\n\r\n      <button\r\n        onClick={createChannel}\r\n        style={{\r\n          width: \"100%\",\r\n          padding: 6,\r\n          background: \"#5865F2\",\r\n          border: \"none\",\r\n          borderRadius: 4,\r\n          color: \"white\",\r\n          cursor: \"pointer\",\r\n          marginBottom: 10\r\n        }}\r\n      >\r\n        + Channel hinzufÃ¼gen\r\n      </button>\r\n\r\n      {textChannels.map((ch) => (\r\n        <div\r\n          key={ch}\r\n          onClick={() => onSelect(ch)}\r\n          onContextMenu={(e) => openContextMenu(e, ch)}\r\n          style={{\r\n            padding: \"6px 10px\",\r\n            cursor: \"pointer\",\r\n            background: selectedChannel === ch ? \"#3a3b3f\" : \"transparent\",\r\n            borderRadius: 4,\r\n            marginBottom: 4\r\n          }}\r\n        >\r\n          # {ch}\r\n        </div>\r\n      ))}\r\n\r\n      <div style={{ opacity: 0.6, margin: \"20px 0 10px\" }}>VOICE CHANNELS</div>\r\n\r\n      {Object.keys(voiceChannels).map((ch) => (\r\n        <div\r\n          key={ch}\r\n          onClick={() => joinVoice(ch)}\r\n          style={{\r\n            padding: \"6px 10px\",\r\n            cursor: \"pointer\",\r\n            borderRadius: 4,\r\n            marginBottom: 4\r\n          }}\r\n        >\r\n          ðŸ”Š {ch}\r\n        </div>\r\n      ))}\r\n\r\n      {contextMenu && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            top: contextMenu.y,\r\n            left: contextMenu.x,\r\n            background: \"#2b2d31\",\r\n            padding: 10,\r\n            borderRadius: 4,\r\n            zIndex: 999,\r\n            boxShadow: \"0 0 10px rgba(0,0,0,0.5)\"\r\n          }}\r\n          onMouseLeave={closeContextMenu}\r\n        >\r\n          <div\r\n            style={{ padding: 5, cursor: \"pointer\" }}\r\n            onClick={() => {\r\n              renameChannel(contextMenu.channel);\r\n              closeContextMenu();\r\n            }}\r\n          >\r\n            Umbenennen\r\n          </div>\r\n          <div\r\n            style={{ padding: 5, cursor: \"pointer\", color: \"red\" }}\r\n            onClick={() => {\r\n              deleteChannel(contextMenu.channel);\r\n              closeContextMenu();\r\n            }}\r\n          >\r\n            LÃ¶schen\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
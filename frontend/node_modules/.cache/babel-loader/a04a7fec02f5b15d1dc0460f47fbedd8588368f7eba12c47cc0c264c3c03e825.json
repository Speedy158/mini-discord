{"ast":null,"code":"import { socket } from \"./socket\";\nexport function uploadAvatar(callback) {\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \"image/*\";\n  input.onchange = () => {\n    const file = input.files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => callback(reader.result);\n    reader.readAsDataURL(file);\n  };\n  input.click();\n}\nexport function updateAvatarOnServer(username, avatarData) {\n  socket.emit(\"updateAvatar\", {\n    username,\n    ...avatarData\n  });\n}\nexport function getAvatarFromServer(users, username) {\n  var _username$;\n  return users[username] || {\n    avatarType: \"default\",\n    avatarColor: \"#5865F2\",\n    avatarLetter: ((_username$ = username[0]) === null || _username$ === void 0 ? void 0 : _username$.toUpperCase()) || \"?\",\n    avatarImage: null\n  };\n}","map":{"version":3,"names":["socket","uploadAvatar","callback","input","document","createElement","type","accept","onchange","file","files","reader","FileReader","onload","result","readAsDataURL","click","updateAvatarOnServer","username","avatarData","emit","getAvatarFromServer","users","_username$","avatarType","avatarColor","avatarLetter","toUpperCase","avatarImage"],"sources":["C:/Users/ericb/mini-discord/frontend/src/avatar.js"],"sourcesContent":["import { socket } from \"./socket\";\r\n\r\nexport function uploadAvatar(callback) {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"file\";\r\n  input.accept = \"image/*\";\r\n\r\n  input.onchange = () => {\r\n    const file = input.files[0];\r\n    if (!file) return;\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => callback(reader.result);\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  input.click();\r\n}\r\n\r\nexport function updateAvatarOnServer(username, avatarData) {\r\n  socket.emit(\"updateAvatar\", {\r\n    username,\r\n    ...avatarData\r\n  });\r\n}\r\n\r\nexport function getAvatarFromServer(users, username) {\r\n  return (\r\n    users[username] || {\r\n      avatarType: \"default\",\r\n      avatarColor: \"#5865F2\",\r\n      avatarLetter: username[0]?.toUpperCase() || \"?\",\r\n      avatarImage: null\r\n    }\r\n  );\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;AAEjC,OAAO,SAASC,YAAYA,CAACC,QAAQ,EAAE;EACrC,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC7CF,KAAK,CAACG,IAAI,GAAG,MAAM;EACnBH,KAAK,CAACI,MAAM,GAAG,SAAS;EAExBJ,KAAK,CAACK,QAAQ,GAAG,MAAM;IACrB,MAAMC,IAAI,GAAGN,KAAK,CAACO,KAAK,CAAC,CAAC,CAAC;IAC3B,IAAI,CAACD,IAAI,EAAE;IAEX,MAAME,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAG,MAAMX,QAAQ,CAACS,MAAM,CAACG,MAAM,CAAC;IAC7CH,MAAM,CAACI,aAAa,CAACN,IAAI,CAAC;EAC5B,CAAC;EAEDN,KAAK,CAACa,KAAK,CAAC,CAAC;AACf;AAEA,OAAO,SAASC,oBAAoBA,CAACC,QAAQ,EAAEC,UAAU,EAAE;EACzDnB,MAAM,CAACoB,IAAI,CAAC,cAAc,EAAE;IAC1BF,QAAQ;IACR,GAAGC;EACL,CAAC,CAAC;AACJ;AAEA,OAAO,SAASE,mBAAmBA,CAACC,KAAK,EAAEJ,QAAQ,EAAE;EAAA,IAAAK,UAAA;EACnD,OACED,KAAK,CAACJ,QAAQ,CAAC,IAAI;IACjBM,UAAU,EAAE,SAAS;IACrBC,WAAW,EAAE,SAAS;IACtBC,YAAY,EAAE,EAAAH,UAAA,GAAAL,QAAQ,CAAC,CAAC,CAAC,cAAAK,UAAA,uBAAXA,UAAA,CAAaI,WAAW,CAAC,CAAC,KAAI,GAAG;IAC/CC,WAAW,EAAE;EACf,CAAC;AAEL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}